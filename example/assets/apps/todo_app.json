{
  "id": "todo_app",
  "name": "Todo App",
  "version": "1.0.0",
  "states": [
    {"key": "todos", "defaultValue": [], "type": "list"},
    {"key": "newTodoTitle", "defaultValue": "", "type": "string"},
    {"key": "filter", "defaultValue": "all", "type": "string"}
  ],
  "root": {
    "type": "scaffold",
    "appBar": {
      "type": "appBar",
      "title": "Todo List",
      "backgroundColor": "teal"
    },
    "body": {
      "type": "column",
      "children": [
        {
          "type": "container",
          "padding": {"left": 16, "right": 16, "top": 16},
          "child": {
            "type": "row",
            "children": [
              {
                "type": "expanded",
                "child": {
                  "type": "textField",
                  "value": "{{state.newTodoTitle}}",
                  "hint": "Add a new todo...",
                  "onChanged": {"action": "updateTitle", "params": {"value": "{{value}}"}}
                }
              },
              {"type": "sizedBox", "width": 8},
              {"type": "button", "text": "Add", "type_": "primary", "onTap": {"action": "addTodo"}}
            ]
          }
        },
        {
          "type": "listView",
          "shrinkWrap": true,
          "itemCount": "{{state.todos.length}}",
          "itemBuilder": {
            "type": "listTile",
            "leading": {
              "type": "checkbox",
              "value": "{{state.todos[{{index}}].completed}}",
              "onChanged": {"action": "toggleTodo", "params": {"index": "{{index}}"}}
            },
            "title": {
              "type": "text",
              "text": "{{state.todos[{{index}}].title}}",
              "decoration": "{{state.todos[{{index}}].completed ? 'lineThrough' : 'none'}}"
            },
            "trailing": {
              "type": "iconButton",
              "icon": "delete",
              "onTap": {"action": "deleteTodo", "params": {"index": "{{index}}"}}
            }
          }
        }
      ]
    }
  }
}
